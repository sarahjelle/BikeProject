<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import java.lang.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.collections.*?>

<?import javafx.scene.text.Text?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<BorderPane stylesheets="@BikeCenter.css" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="myapp.GUIfx.Bike.BikeCenterController">
   <center>
      <AnchorPane>
         <!--<TableView fx:id="bikeTable" visible="true" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0" BorderPane.alignment="CENTER">
             <columns>
                 <TableColumn fx:id="description"/>
                 <TableColumn fx:id="totalTrips"/>
             </columns>
             <columnResizePolicy>
                 <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
             </columnResizePolicy>
         </TableView>-->

         <ListView fx:id="listView" AnchorPane.topAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.bottomAnchor="0" onMouseClicked="#selectedRow"/>

         <VBox fx:id="regBikePane" alignment="CENTER" spacing="40" visible="false" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
            <GridPane alignment="CENTER" hgap="10.0" vgap="10.0">
               <Label text="Purchase date: " GridPane.rowIndex="0" />
               <DatePicker fx:id="purchaseDate" GridPane.columnIndex="1" />
               <Label text="Price: " GridPane.rowIndex="1" />
               <TextField fx:id="priceInput" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                <Label fx:id="priceError" text="Missing price" style="-fx-text-fill: red" visible="false" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
               <Label text="Make: " GridPane.rowIndex="2" />
               <TextField fx:id="makeInput" GridPane.columnIndex="1" GridPane.rowIndex="2" />
               <Label text="Type:" GridPane.rowIndex="3" />
               <ComboBox fx:id="typeInput" onAction="#typeSelected" GridPane.columnIndex="1" GridPane.rowIndex="3">
                   <items>
                       <FXCollections fx:factory="observableArrayList">
                           <String fx:value="New type" />
                           <String fx:value="Type1" />
                           <String fx:value="Type2" />
                           <String fx:value="Type3" />
                       </FXCollections>
                   </items>
               </ComboBox>
            </GridPane>
            <HBox alignment="CENTER" spacing="25">
                <Button fx:id="regSubmit" onAction="#regInfoOk" text="Submit"/>
                <Button fx:id="regCancel" onAction="#cancel" text="Cancel" />
            </HBox>
         </VBox>
   
         <VBox fx:id="repairBikePane" alignment="CENTER" spacing="40" visible="false" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
            <GridPane alignment="CENTER" hgap="10.0" vgap="10.0">
               <Label text="BikeId: " GridPane.rowIndex="0" />
               <TextField fx:id="BikeId" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
               <Label text="Description: " GridPane.rowIndex="1" />
               <TextField fx:id="descriptionInput" GridPane.columnIndex="1" GridPane.rowIndex="1" />
            </GridPane>
            <HBox alignment="CENTER" spacing="25">
                <Button fx:id="repairSubmit" onAction="#regRepair" text="Submit" />
                <Button fx:id="repCancel" onAction="#cancel" text="Cancel" />
            </HBox>
         </VBox>


         <BorderPane fx:id="bikeInfoEdit" visible="false" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
             <top>
                 <HBox fx:id="infoTop">
                     <Label text="Bikeid: "/>
                     <Text fx:id="bikeidOutput" />
                     <Region HBox.hgrow="ALWAYS"/>
                     <Button text="Back" onAction="#cancel"/>
                 </HBox>
             </top>
             <center>
                 <AnchorPane>
                     <VBox fx:id="bikeInfo" spacing="10" alignment="CENTER" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0">
                         <GridPane  alignment="CENTER" hgap="20" vgap="20" AnchorPane.bottomAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.topAnchor="0">
                             <Label text="Type: " GridPane.rowIndex="0"/>
                             <Text fx:id="typeOutput" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                             <Label text="Make: " GridPane.rowIndex="1"/>
                             <Text fx:id="makeOutput" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                             <Label text="Price: " GridPane.rowIndex="2"/>
                             <Text fx:id="priceOutput" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                             <Label text = "Purchase date: " GridPane.rowIndex="3"/>
                             <Text fx:id="dateOutput" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                             <Label text="Battery: " GridPane.rowIndex="4"/>
                             <Text fx:id="batteryOutput" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                             <Label text="Status: " GridPane.rowIndex="5"/>
                             <Text fx:id="availableOutput" GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                             <Label text="Distance traveled: " GridPane.rowIndex="6"/>
                             <Text fx:id="distanceOutput" GridPane.rowIndex="6" GridPane.columnIndex="1"/>

                             <Label text="Location: " GridPane.rowIndex="7"/>
                         </GridPane>
                         <HBox alignment="CENTER" spacing="10">
                             <Button onAction="#openEdit">
                                 <graphic>
                                     <ImageView fitHeight="20" fitWidth="20">
                                         <Image url="@../Images/edit.png"/>
                                     </ImageView>
                                 </graphic>
                             </Button>
                             <Button text="Delete" onAction="#deleteBike"/>
                             <Button text="Cancel" onAction="#cancel"/>
                         </HBox>
                     </VBox>
                 </AnchorPane>
             </center>
         </BorderPane>
          <VBox  visible="false" fx:id="bikeEditPane" AnchorPane.bottomAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.topAnchor="0">
              <GridPane alignment="CENTER" hgap="20" vgap="20" AnchorPane.bottomAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.topAnchor="0">
                  <Label text="Type: " GridPane.rowIndex="0"/>
                  <TextField fx:id="typeEdit" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                  <Label text="Make: " GridPane.rowIndex="1"/>
                  <TextField fx:id="makeEdit" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                  <Label text="Price: " GridPane.rowIndex="2"/>
                  <TextField fx:id="priceEdit" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                  <Label text = "Purchase date: " GridPane.rowIndex="3"/>
                  <DatePicker fx:id="dateEdit" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                  <Label text="Battery: " GridPane.rowIndex="4"/>
                  <TextField fx:id="batteryEdit" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                  <Label text="Available: " GridPane.rowIndex="5"/>
                  <ComboBox fx:id="statusEdit" GridPane.columnIndex="1" GridPane.rowIndex="5">
                      <items>
                          <FXCollections fx:factory="observableArrayList">
                              <String fx:value="At docking station" />
                              <String fx:value="On repair" />
                              <String fx:value="Rented" />
                          </FXCollections>
                      </items>
                  </ComboBox>

                  <Label text="Distance traveled: " GridPane.rowIndex="6"/>
                  <TextField fx:id="distanceEdit" GridPane.rowIndex="6" GridPane.columnIndex="1"/>

                  <Label text="Location: " GridPane.rowIndex="7"/>
              </GridPane>
          </VBox>
      </AnchorPane>
   </center>
</BorderPane>
